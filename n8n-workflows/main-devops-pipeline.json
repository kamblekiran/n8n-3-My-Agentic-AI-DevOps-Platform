@@ .. @@
       "id": "pr-filter",
       "name": "Filter PR Events",
       "type": "n8n-nodes-base.if",
       "typeVersion": 2,
       "position": [460, 300]
     },
     {
       "parameters": {
         "method": "POST",
         "url": "http://mcp-server:3000/agent/code-review",
@@ .. @@
           "conditions": [
             {
               "id": "condition-1",
-              "leftValue": "={{ $json.action }}",
+              "leftValue": "={{ $json.action || $json.pull_request?.action }}",
               "rightValue": "opened",
               "operator": {
                 "type": "string",
@@ -85,7 +85,7 @@
             },
             {
               "id": "condition-2",
-              "leftValue": "={{ $json.action }}",
+              "leftValue": "={{ $json.action || $json.pull_request?.action }}",
               "rightValue": "synchronize",
               "operator": {
              "value": "={{ $json.pull_request.diff_url || null }}"
            },
            {
              "name": "base_sha",
              "value": "={{ $json.pull_request.base.sha }}"
            },
            {
              "name": "head_sha",
              "value": "={{ $json.pull_request.head.sha }}"
@@ .. @@
               }
             }
           ],
           "combinator": "or"
         },
         "options": {}
       },